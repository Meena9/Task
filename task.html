<html>
<head>
<style>
table{}
tr,td{
height:100;
width:100;
}
</style>
<script>
function gamegenrate(){
var row=document.getElementById("row").value;
var col=document.getElementById("col").value;
var a=[];
var b=[];
 
 var mx= Math.floor((Math.random() * row)+1);
var my= Math.floor((Math.random() * col)+1);
 for(var k=0;k<(row+col)/2;k++){
 a[k]=Math.floor((Math.random() * row)+1);
b[k]=Math.floor((Math.random() * col)+1);
}
var table='';

for(var i=1;i<=row;i++){
table+='<tr>'
for(var j=1;j<=col;j++){

if(i==mx& j==my){
table+='<td id='+i+-+j+'>'+'<img src="1200x630bb_vokqee.jpg" id=mario>' +'</td>'
}
else if(a.indexOf(i) != -1) {
   var iPosition = a.indexOf(i);

   if(b[iPosition] == j){
       table+='<td id='+i+-+j+'>' +'<img src="mushroom-512_f9ma5t.png" id="food">' +'</td>'
   }else{
table+='<td id='+i+-+j+'>'+'</td>'
}
}

}
table+='</tr>'

}
 
document.getElementById("t").innerHTML='<table  border=1>'+table+'</table>';
document.onkeydown = function(e) {
    switch (e.keyCode) {
        case 37:
		  leftmove();
		  break;
        case 38:
		 upmove();
		
            break;
			
        case 39:
		
         rightmove();
            break;
        case 40:
	        downmove();
		
          break;
          }
      }
	  
	  
	 function leftmove(){
var marioParent = document.getElementById('mario').parentNode.id;

var arrayParent=marioParent.split("-");
var mario=document.getElementById('mario');
var newmarioParent;
 
 
		  arrayParent[1]--;
		  if(arrayParent[1]>=1){
	                 document.getElementById(marioParent).removeChild(mario);
                        newmarioParent = arrayParent[0] + "-" + arrayParent[1];
						  if(a.indexOf(arrayParent[1]) != -1) {
                        var iPosition = a.indexOf(arrayParent[1]);
                      if(b[iPosition] == arrayParent[0]){
                               document.getElementById(newmarioParent).firstChild.remove()
                                    }
                                 }     	 
                        document.getElementById(newmarioParent).appendChild(mario);

console.log("mario left"+newmarioParent);

return leftmove();
               }else{
			   return rightmove();
			   }
}


function upmove(){

var marioParent = document.getElementById('mario').parentNode.id;

var arrayParent=marioParent.split("-");
var mario=document.getElementById('mario');
var newmarioParent;
var count=0;
		count++
		arrayParent[0]--;
		 if(arrayParent[0]>=1){
	                 document.getElementById(marioParent).removeChild(mario);
                      
                        newmarioParent = arrayParent[0] + "-" + arrayParent[1];
	 if(a.indexOf(arrayParent[0]) != -1) {
   var iPosition = a.indexOf(arrayParent[0]);

   if(b[iPosition] == arrayParent[1]){
     document.getElementById(newmarioParent).firstChild.remove()
   }
}
						 
                        document.getElementById(newmarioParent).appendChild(mario);



	   }
          console.log("mario up"+newmarioParent);
		  }
		  
		  
		  
		  function rightmove(){
var marioParent = document.getElementById('mario').parentNode.id;

var arrayParent=marioParent.split("-");
var mario=document.getElementById('mario');
var newmarioParent;
var count=0;
		arrayParent[1]++;
		if(arrayParent[1]<=col){
	                 document.getElementById(marioParent).removeChild(mario);
                      
                        newmarioParent = arrayParent[0] + "-" + arrayParent[1];
						 if(a.indexOf(arrayParent[1]) != -1) {
   var iPosition = a.indexOf(arrayParent[1]);

   if(b[iPosition] == arrayParent[0]){
     document.getElementById(newmarioParent).firstChild.remove()
   }
						 
             }           document.getElementById(newmarioParent).appendChild(mario);



	   }
	   console.log("mario right"+newmarioParent);
	   count++;
	   }
	   
	   
	   function downmove(){
	   var marioParent = document.getElementById('mario').parentNode.id;

var arrayParent=marioParent.split("-");
var mario=document.getElementById('mario');
var newmarioParent;
var count=0;
		 arrayParent[0]++;
		             if(arrayParent[0]<=row){
	                 document.getElementById(marioParent).removeChild(mario);
                      
                        newmarioParent = arrayParent[0] + "-" + arrayParent[1];
						 if(a.indexOf(arrayParent[0]) != -1) {
   var iPosition = a.indexOf(arrayParent[0]);

   if(b[iPosition] == arrayParent[1]){
     document.getElementById(newmarioParent).firstChild.remove()
   }
	}					 
                        document.getElementById(newmarioParent).appendChild(mario);



	   }
	   console.log("mario down"+newmarioParent);
	   count++;
	   }
	document.write("score"+ count)  
	}

</script>
</head>
<body>
<center>
Enter the no of rows :<input type="text" id="row"><br><br>
Enter the no of cols :<input type="text" id="col"><br><br>
<button onclick="gamegenrate()">Genrate game</button><br><br>
<div id="t">

</div>

</center>
</body>
</html>
